@using WebExtensions.Net.Tabs
@using BrowserTab = WebExtensions.Net.Tabs.Tab

@if (ActiveTab?.Url is not null)
{
    <MudStack Row>
        <MudText Class="mt-2">from</MudText>
        <MudPaper Elevation="0" Class="my-2" Style="width:100%; background:#ffffff20; border-radius: 1.071rem;">
            <MudStack AlignItems=MudBlazor.AlignItems.Start Spacing="1" Style="gap:0; max-width:35.714rem; width:fit-content; overflow:hidden; padding-left:0.357rem;">
                <MudStack Row Style="white-space:nowrap; width:inherit" Spacing="0">
                    @if (ActiveTab.FavIconUrl is not null)
                    {
                        <MudImage Src="@ActiveTab.FavIconUrl" Alt="Favicon" Class="bt-favicon" />
                    }
                    else
                    {
                        <MudIcon Icon="@Icons.Material.Filled.Language" Color="Color.Primary" Class="bt-favicon" />
                    }
                    <MudText Class="bt-text-ellipsis" Style="font-weight: bold; color:white !important;">
                        @ActiveTab.Title
                    </MudText>
                </MudStack>
                <MudText Class="bt-text-ellipsis" Style="margin-left:1.429rem; color:white !important;">
                    @ActiveTab.Url
                </MudText>
            </MudStack>
        </MudPaper>
    </MudStack>
}

@code {
    [Parameter]
    public BrowserTab? ActiveTab { get; set; }
}
