@using WebExtensions.Net.Tabs
@using BrowserTab = WebExtensions.Net.Tabs.Tab

@if (ActiveTab?.Url is not null)
{
    <MudStack Row>
        <MudText Style="margin-top:7px;">from</MudText>
        <MudPaper Elevation="0" Style="width:100%; background:#ffffff20; margin-top:8px; margin-bottom:8px; border-radius: 15px 15px 15px 15px">
            <MudStack AlignItems=MudBlazor.AlignItems.Start Spacing="1" Style="gap:0px; max-width:500px; width:fit-content; overflow:hidden; padding-left:5px;">
                <MudStack Row Style="white-space:nowrap; width:inherit" Spacing="0">
                    @if (ActiveTab.FavIconUrl is not null)
                    {
                        <MudImage Src="@ActiveTab.FavIconUrl" Alt="Favicon" Style="width: 16px; height: 16px; align-self:center; margin-right:4px;" />
                    }
                    else
                    {
                        <MudIcon Icon="@Icons.Material.Filled.Language" Color="Color.Primary" Style="width: 16px; height: 16px; align-self:center; margin-right:4px;" />
                    }
                    <MudText Style="height: 1.5em; text-overflow: ellipsis; text-wrap: nowrap; font-weight: bold; overflow:hidden; color:white !important;">
                        @ActiveTab.Title
                    </MudText>
                </MudStack>
                <MudText Style="margin-left:20px; height: 1.5em; text-overflow: ellipsis; text-wrap: nowrap; color:white !important;">
                    @ActiveTab.Url
                </MudText>
            </MudStack>
        </MudPaper>
    </MudStack>
}

@code {
    [Parameter]
    public BrowserTab? ActiveTab { get; set; }
}
