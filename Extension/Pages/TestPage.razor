@page "/Test.html"
@using Extension.Models
@using Extension.Services
@using System.Reactive.Linq
@inject NavigationManager navManager
@inject IPreferencesService preferencesService
@using static Extension.AppConfig;
@inject IJSRuntime js
@using static Extension.Helper.PreviousPage
@inject ILogger<PreferencesPage> logger
@inject AppCache appCache

@inherits AppCacheReactiveComponentBase

@code
{
    protected override async Task OnInitializedAsync() {
        await base.OnInitializedAsync(); // Important here to call the inherited method
        // more...
    }
}

<div id="@this.GetType().Name" class="bt-body-page">
    <div class="d-flex gap-3 bt-main">
        <div class="bt-main-inside-scroll">
            <MudText Typo="Typo.h6">Test</MudText>
            <MudStack>
                <MudStack Style="margin-left:20px;">
                    <MudText>@if (DateTime.UtcNow.Microsecond > 500) {<span>"true ✅☑️ &#x2611; "</span>} else {<span>"false ☐ &#x2610; "</span>} IsReady</MudText>
                    <MudText>@if (appCache.IsConfigured) {<span>"true ✅☑️ &#x2611; "</span>} else {<span>"false ☐ &#x2610; "</span>} IsConfigured</MudText>
                    <MudText>@appCache.MyPasscodeModel.Passcode "Passcode"</MudText>
                    <MudText>@appCache.MyPreferences.IsDarkTheme "IsDarkTheme"</MudText>
                </MudStack>
            </MudStack>
        </div>
    </div>
    <MudStack Row="true" class="bt-button-tray">
        <MudIconButton Icon="@Icons.Material.Filled.ArrowBackIosNew" Variant="Variant.Text" OnClick='@( async () => await GoBack(js) )' Class="justify-start" />
        <MudSpacer />
    </MudStack>
</div>

